1. Successful invocation of gpsim:

$ gpsim -pp16f84

Then, in the GUI, "File"-->"Open", select the .cod file.

On my home machine, this works.  On hepburn, it segfaults.

2. pk2
8/16/06: Upgraded to pk2-2.01.  My previous attempts -- 1.34 -- from February
resulted in the pk2 program hanging and unkillable (even by root).

Now:
Building with the recommended flags for Linux 2.6.x,
CFLAGS=$(OPTS) -I$(LIBUSB)/include -DLINUX -DUSE_DETACH -DCLAIM_USB

I try
$ pk2 -firmware
And get:

PK2 version 2.01 - 2006/07/10
 pk2 -firmware

Locating USB Microchip PICkit2 (vendor 0x04d8/product 0x0033)
Found USB PICkit as device '004' on USB bus 001
Fatal error> Error setting USB configuration.

Next I compiled with CFLAGS=$(OPTS) -I$(LIBUSB)/include -DLINUX -DUSE_DETACH.
Result:

$ pk2 -firmware

PK2 version 2.01 - 2006/07/10
 pk2 -firmware

Locating USB Microchip PICkit2 (vendor 0x04d8/product 0x0033)
Found USB PICkit as device '004' on USB bus 001
sendUSB() PICkit write : Operation not permitted
Fatal error> sendUSB() PICkit USB write failed

(Same result when trying that as root.)

Now compiling with
CFLAGS=$(OPTS) -I$(LIBUSB)/include -DLINUX -DCLAIM_USB

Result:

$ pk2 -firmware

PK2 version 2.01 - 2006/07/10
 pk2 -firmware

Locating USB Microchip PICkit2 (vendor 0x04d8/product 0x0033)
Found USB PICkit as device '004' on USB bus 001
Fatal error> Error setting USB configuration.

Back to compiling with the full
CFLAGS=$(OPTS) -I$(LIBUSB)/include -DLINUX -DUSE_DETACH -DCLAIM_USB
plus -DUSB_DEBUG.  Now I get more diagnostic output:

~/usr/local/src/PIC/hello$ pk2 -firmware

PK2 version 2.01 - 2006/07/10
 pk2 -firmware
usb_set_debug: Setting debugging level to 255 (on)

Locating USB Microchip PICkit2 (vendor 0x04d8/product 0x0033)
usb_os_init: Found USB VFS at /proc/bus/usb
usb_os_find_busses: Found 002
usb_os_find_busses: Found 001
usb_os_find_busses: Skipping non bus directory devices_please-use-sysfs-instead
usb_os_find_devices: couldn't get connect info
usb_os_find_devices: Found 001 on 002
error obtaining child information: Operation not permitted
usb_os_find_devices: couldn't get connect info
usb_os_find_devices: Found 004 on 001
skipped 1 class/vendor specific interface descriptors
usb_os_find_devices: couldn't get connect info
usb_os_find_devices: Found 003 on 001
usb_os_find_devices: couldn't get connect info
usb_os_find_devices: Found 001 on 001
error obtaining child information: Operation not permitted
error obtaining child information: Operation not permitted
error obtaining child information: Operation not permitted
Found USB PICkit as device '004' on USB bus 001
USB error: could not get bound driver: Operation not permitted
USB error: could not set config 2: Operation not permitted
USB error: could not set config 1: Operation not permitted
Fatal error> Error setting USB configuration.

Strangely, I get the same result if I'm not even plugged in to the PICkit2
programmer.
